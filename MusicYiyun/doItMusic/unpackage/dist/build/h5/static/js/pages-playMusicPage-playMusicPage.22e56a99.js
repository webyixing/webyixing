(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-playMusicPage-playMusicPage"],{"0959":function(e,t,i){"use strict";var a=i("2c0e"),o=i.n(a);o.a},1755:function(e,t,i){"use strict";var a=i("53ed"),o=i.n(a);o.a},"2c0e":function(e,t,i){var a=i("f78c");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=i("4f06").default;o("6d6aed88",a,!0,{sourceMap:!1,shadowMode:!1})},"38c8":function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var a={uNavbar:i("f155").default,uIcon:i("51b2").default,uPopup:i("b59e").default,sqComments:i("b430").default},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"play-music-page"},[i("u-navbar",{attrs:{height:55,title:e.audioTitle,immersive:!0,"border-bottom":!1,background:{background:"transparent"}}}),i("div",{staticClass:"bg-wrapper"},[i("v-uni-image",{staticClass:"image-bg",staticStyle:{width:"100%",height:"100%"},attrs:{mode:"aspectFill",src:e.audioPageBg}})],1),i("v-uni-view",{staticClass:"music-content"},[i("v-uni-view",{staticClass:"center-box",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.onClickCenterBox.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"pic-box",style:{display:e.showLrc?"none":"flex"}},[i("v-uni-view",{staticClass:"pic-img-wrapper"},[i("v-uni-image",{staticClass:"pic-box-img",attrs:{animation:e.animationData,mode:"aspectFill",src:e.audioPageBg}}),i("v-uni-view",{staticClass:"circle-ani"}),i("v-uni-view",{staticClass:"circle-ani ani2"})],1)],1),i("v-uni-view",{staticStyle:{width:"100%",height:"100%"},style:{display:e.showLrc?"block":"none"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.onClickCenterBox.apply(void 0,arguments)}}},[i("v-uni-scroll-view",{ref:"lrcView",staticClass:"lrc-scroll-view",staticStyle:{width:"100%",height:"100%"},attrs:{"scroll-y":"true","scroll-top":e.lrcScrollTop}},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.audioLrc.ms&&e.audioLrc.ms.length>0,expression:"audioLrc.ms && audioLrc.ms.length>0"}],staticClass:"lrc-wrapper"},e._l(e.audioLrc.ms,(function(t,a){return i("v-uni-view",{class:{"lrc-active":a===e.showlrcIndex},staticStyle:{"font-size":"32rpx","margin-bottom":"30rpx","text-align":"center","font-weight":"bold"}},[e._v(e._s(t.c))])})),1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.audioLrc.ms||e.audioLrc.ms.length<=0,expression:"!audioLrc.ms || audioLrc.ms.length <= 0"}]},[e._v("暂无歌词")])],1)],1)],1),i("v-uni-view",{staticClass:"bot-buttons"},[i("v-uni-view",{staticClass:"top-bts"},[i("v-uni-view",[i("u-icon",{attrs:{name:"heart",size:"60"}})],1),i("v-uni-view",[i("u-icon",{attrs:{name:"download",size:"60"}})],1),i("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openComment.apply(void 0,arguments)}}},[i("u-icon",{attrs:{name:"chat",size:"60"}})],1)],1),i("v-uni-view",{staticClass:"process-bar-wrapper"},[i("v-uni-view",[e._v(e._s(e.parseMinute(e.audioMeta.currentTime))+":"+e._s(e.parseSecond(e.audioMeta.currentTime)))]),i("v-uni-view",{staticClass:"process-line-box"},[i("v-uni-view",{staticClass:"pro-line dura-line"}),i("v-uni-view",{staticClass:"pro-line dot"}),i("v-uni-view",{staticClass:"pro-line buffed-line",style:{width:e.audioBuffedPerc+"%"}}),i("v-uni-view",{staticClass:"pro-line play-line",style:{width:e.audioPlayPerc+"%"}})],1),i("v-uni-view",[e._v(e._s(e.parseMinute(e.audioMeta.duration))+":"+e._s(e.parseSecond(e.audioMeta.duration)))])],1),i("v-uni-view",{staticClass:"control-bts"},[i("v-uni-view",{staticStyle:{margin:"0 20rpx"}},[i("u-icon",{attrs:{name:"rewind-left",size:"100"}})],1),i("v-uni-view",{staticStyle:{margin:"0 20rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickPlayBt.apply(void 0,arguments)}}},[i("u-icon",{attrs:{name:e.audioMeta.paused?"play-circle":"pause-circle",size:"100"}})],1),i("v-uni-view",{staticStyle:{margin:"0 20rpx"}},[i("u-icon",{attrs:{name:"rewind-right",size:"100"}})],1)],1)],1)],1),i("u-popup",{attrs:{"safe-area-inset-bottom":!0,closeable:!0,mode:"bottom","border-radius":"10",height:"800rpx"},model:{value:e.showComment,callback:function(t){e.showComment=t},expression:"showComment"}},[i("sq-comments",{ref:"comments"})],1)],1)},n=[]},"53ed":function(e,t,i){var a=i("c8d3");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=i("4f06").default;o("add44afc",a,!0,{sourceMap:!1,shadowMode:!1})},"673d":function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var a={uIcon:i("51b2").default},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"comment-box"},[i("v-uni-view",{staticClass:"avatar-box"},[i("v-uni-image",{staticClass:"avatar",attrs:{src:e.item.user.avatarUrl}})],1),i("v-uni-view",{staticClass:"info-box"},[i("v-uni-view",{staticClass:"user-name-box flex"},[i("v-uni-view",[i("v-uni-view",{staticClass:"user-name"},[e._v(e._s(e.item.user.nickname))]),i("v-uni-view",{staticClass:"date"},[e._v(e._s(e.formatTime(e.item.time)))])],1),i("v-uni-view",{staticClass:"like-bt"},[e._v(e._s(e.item.likedCount)),i("u-icon",{attrs:{name:"thumb-up"}})],1)],1),i("v-uni-view",{staticClass:"content"},[e._v(e._s(e.item.content))])],1)],1)},n=[]},"6d5a":function(e,t,i){"use strict";i.r(t);var a=i("f413"),o=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=o.a},"6dfc":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={props:{item:Object},data:function(){return{}},computed:{},created:function(){},methods:{}};t.default=a},7147:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var a={sqCommentItem:i("76eb").default},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"c-total"},[e._v("热门评论("+e._s(e.formatNumber(e.total))+")")]),e._l(e.hotComments,(function(e,t){return i("sq-comment-item",{key:t,attrs:{item:e}})}))],2)},n=[]},"745d":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".comment-box[data-v-475cce10]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;padding:%?24?% %?24?%;border-bottom-color:#f0f0f0;border-bottom-style:solid;border-bottom-width:%?1?%;color:#333}.comment-box .avatar-box .avatar[data-v-475cce10]{width:%?80?%;height:%?80?%;-webkit-border-radius:50%;border-radius:50%;margin-right:%?24?%}.comment-box .info-box[data-v-475cce10]{width:0;-webkit-box-flex:1;-webkit-flex:1;flex:1}.comment-box .user-name-box[data-v-475cce10]{-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?10?%}.comment-box .user-name-box .like-bt[data-v-475cce10]{font-size:%?26?%}.comment-box .user-name-box .user-name[data-v-475cce10]{font-size:%?28?%}.comment-box .user-name-box .date[data-v-475cce10]{font-size:%?24?%;color:#999}",""]),e.exports=t},"76eb":function(e,t,i){"use strict";i.r(t);var a=i("673d"),o=i("bcaf");for(var n in o)"default"!==n&&function(e){i.d(t,e,(function(){return o[e]}))}(n);i("c2b8");var r,s=i("f0c5"),c=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"475cce10",null,!1,a["a"],r);t["default"]=c.exports},"944ae":function(e,t,i){var a=i("745d");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=i("4f06").default;o("bcee0e5e",a,!0,{sourceMap:!1,shadowMode:!1})},"948c":function(e,t,i){"use strict";i.r(t);var a=i("38c8"),o=i("9c1d");for(var n in o)"default"!==n&&function(e){i.d(t,e,(function(){return o[e]}))}(n);i("0959");var r,s=i("f0c5"),c=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"8e618e48",null,!1,a["a"],r);t["default"]=c.exports},"9c1d":function(e,t,i){"use strict";i.r(t);var a=i("b3da"),o=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=o.a},b3da:function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("5530")),n=i("2f62"),r={data:function(){return{option:{},animationData:{},animation:null,animationFnKey:null,cycles:0,showLrc:!1,lrcScrollTop:0,showlrcIndex:0,showComment:!1}},computed:(0,o.default)((0,o.default)({},(0,n.mapState)(["audioId","audioTitle","picUrl","audioMeta"])),(0,n.mapGetters)(["audioPageBg"])),watch:{audioMeta:function(e){if(this.audioLrc.ms){for(var t=this.audioLrc.ms,i=e.currentTime,a=this.showlrcIndex,o=0,n=t.length;o<n;o++){var r=t[o];if(r.t>=i){a=o-1;break}}this.showlrcIndex=a}}},onLoad:function(e){this.option=e},onReady:function(){},beforeDestroy:function(){null!=this.animationFnKey&&clearInterval(this.animationFnKey)},mounted:function(){console.log("play music page mounted!"),this.playMusicById(this.option.id)},created:function(){},methods:{onClickPlayBt:function(){this.audioMeta.paused?(console.log("doPlayAudio"),this.doPlayAudio()):(console.log("doPauseAudio"),this.doPauseAudio())},onClickCenterBox:function(){console.log("click center box"),this.showLrc=!this.showLrc},openComment:function(){var e=this;this.showComment=!0,this.$nextTick((function(){e.$refs.comments.getList({type:0,id:e.option.id})}))}}};t.default=r},b430:function(e,t,i){"use strict";i.r(t);var a=i("7147"),o=i("6d5a");for(var n in o)"default"!==n&&function(e){i.d(t,e,(function(){return o[e]}))}(n);i("1755");var r,s=i("f0c5"),c=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"664c25a6",null,!1,a["a"],r);t["default"]=c.exports},bcaf:function(e,t,i){"use strict";i.r(t);var a=i("6dfc"),o=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=o.a},c2b8:function(e,t,i){"use strict";var a=i("944ae"),o=i.n(a);o.a},c8d3:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,".c-total[data-v-664c25a6]{padding:%?30?% %?24?%;text-align:center;font-weight:bolder}",""]),e.exports=t},f413:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={props:{type:String},data:function(){return{hotComments:[],total:0}},computed:{},created:function(){},methods:{getList:function(e){var t=this,i=e.id,a=e.type,o=e.limit;this.$api.commentHot({data:{type:a,id:i,limit:o||30}}).then((function(e){t.hotComments=e.hotComments,t.total=e.total}))}}};t.default=a},f78c:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'.play-music-page[data-v-8e618e48]{width:100%;height:100%;padding-top:%?150?%;position:absolute;top:0;left:0;bottom:100%}.image-bg[data-v-8e618e48]{width:100%;height:100%;position:fixed;top:0;left:0;bottom:0;-webkit-filter:blur(70px);filter:blur(70px);opacity:.7}.music-content[data-v-8e618e48]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-flex-wrap:nowrap;flex-wrap:nowrap}.center-box[data-v-8e618e48]{height:0;-webkit-box-flex:1;-webkit-flex:1;flex:1}.pic-box[data-v-8e618e48]{width:100%;-webkit-border-radius:50%;border-radius:50%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative}.pic-img-wrapper[data-v-8e618e48]{width:%?450?%;height:%?450?%;-webkit-border-radius:50%;border-radius:50%;display:block;position:relative}.pic-box-img[data-v-8e618e48]{width:%?450?%;height:%?450?%;-webkit-border-radius:50%;border-radius:50%;display:block;border:%?10?% solid rgba(83,77,93,.9)}.pic-box .circle-ani[data-v-8e618e48]{border:%?3?% solid rgba(75,80,116,.6);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transform:scale(1.1);transform:scale(1.1);position:absolute;top:0;left:0;width:%?470?%;height:%?470?%;-webkit-border-radius:50%;border-radius:50%}.pic-box .circle-ani.ani2[data-v-8e618e48]{border:%?3?% solid rgba(75,80,116,.3);-webkit-transform:scale(1.3);transform:scale(1.3)}.top-bts[data-v-8e618e48]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?30?% %?80?%}.process-bar-wrapper[data-v-8e618e48]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?10?% %?40?%}.process-bar-wrapper .process-line-box[data-v-8e618e48]{width:0;height:%?12?%;margin:0 %?20?%;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-border-radius:%?10?%;border-radius:%?10?%;position:relative}.process-bar-wrapper .process-line-box .pro-line[data-v-8e618e48]{width:0;height:%?12?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;position:absolute;top:0;left:0}\n\n/* 总长度 */.process-bar-wrapper .process-line-box .dura-line[data-v-8e618e48]{width:100%;height:100%;background-color:#8d888b}\n\n/* 缓存长度 */.process-bar-wrapper .process-line-box .buffed-line[data-v-8e618e48]{background-color:#999}\n\n/* 播放长度 */.process-bar-wrapper .process-line-box .play-line[data-v-8e618e48]{background-color:#95a7dd}\n\n/* 点 */.process-bar-wrapper .process-line-box .play-line[data-v-8e618e48]::after{content:"";position:absolute;top:%?-4?%;right:%?-4?%;background-color:#fff;width:%?20?%;height:%?20?%;-webkit-border-radius:50%;border-radius:50%}.control-bts[data-v-8e618e48]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?40?% %?20?%}\n\n/* 歌词激活样式 */.lrc-active[data-v-8e618e48]{color:var(--primary-color)}',""]),e.exports=t}}]);